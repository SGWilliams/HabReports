<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
	<meta name="pdfkit-page-size" content="Letter"/>
    <meta name="pdfkit-orientation" content="Landscape"/>

    <title>{{ title }}</title>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="html_files/stylesheet.css">
    {{pdf_css}}
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script type="text/javascript" language="javascript" src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
    <!--<style type="text/css" >

		thead {display: table-header-group} 
		tfoot {display: table-row-group}
		tr {
        page-break-inside: avoid;}
		
		
    </style>-->   
    <script>

        $(function () {
            
		mv_dt = $('table.dataframe.ModelVariables').DataTable(
                {
                    "columnDefs": [
                        {
                            "targets": [0],
                            "visible": false,
                            "orderable": true
                        },
                        {
                            "targets": [1],
                            "width": '200px',
							"classname": "rowheader"
                        }
                    ],
					order: [[0, 'asc']],
					autoWidth: false,
                    paging: false,
                    
                    searching: false,
                    info: false,
                    createdRow: function ( row, data, index ) {
					
                       if ( data[1].replace(/[\$,]/g, '') == 'Distance Into (m)') {
                             $('th', row).eq(0).addClass('center');
                       }
                       if ( data[1].replace(/[\$,]/g, '') == 'Distance From (m)') {
                             $('th', row).eq(0).addClass('center');
                       }
                       if ( data[1].replace(/[\$,]/g, '') == 'Minimum (m)') {
                             $('th', row).eq(0).addClass('center');
                       }
                        if ( data[1].replace(/[\$,]/g, '') == 'Maximum (m)') {
                             $('th', row).eq(0).addClass('center');
                       }
                       if ( data[1].replace(/[\$,]/g, '') == 'Minimum size (ha)') {
                             $('th', row).eq(0).addClass('center');
                       }
                       if ( data[1].replace(/[\$,]/g, '') == 'Ecotone width (m)') {
                             $('th', row).eq(0).addClass('center');
                       }
                       if ( data[1].replace(/[\$,]/g, '') == 'Distance from edge (m)') {
                             $('th', row).eq(0).addClass('center');
                       }
                       if ( data[1].replace(/[\$,]/g, '') == 'Elevation Limits') {
                             $('th', row).eq(0).addClass('left');
                       }
                       if ( data[1].replace(/[\$,]/g, '') == 'Hydrographic Information') {
                             $('th', row).eq(0).addClass('left');
                       }
                       if ( data[1].replace(/[\$,]/g, '') == 'Landcover') {
                             $('th', row).eq(0).addClass('left');
                       }
                       if (data[1].replace(/[\$,]/g, '') == 'Variable') {
                           $('th', row).eq(0).hide();
                       }
                   }
                });
            mu_dt = $('table.dataframe.MapUnits').DataTable(
                {
					autoWidth: false,
                    paging: false,
                    ordering: false,
                    searching: false,
                    info: false
                });
            cit_dt = $('table.dataframe.Citations').DataTable(
                {
                    "columnDefs": [
                        {
                            "targets": [0],
                            "visible": false,
                        }
                    ],
                    classname: "compact",
					autoWidth: false,
					paging: false,
                    ordering: false,
                    searching: false,
                    info: false
                });
				$('table.dataframe.Citations').attr('border', '0');
                $(".sorting, .sorting_asc, .sorting_desc").unbind('click');
                cols = mv_dt.columns()[0].length;
                var blankrow = mv_dt.row.add(create_row(1, '', cols)).draw().node();
                $( blankrow ).css( 'background-color', 'rgb(245, 245, 245)' );
	            blankrow = mv_dt.row.add(create_row(3, '', cols)).draw().node();
                $( blankrow ).css( 'background-color', 'rgb(245, 245, 245)' );
                var elevrow = mv_dt.row.add(create_row(4, 'Elevation Limits', cols)).draw().node();
                $( elevrow ).css( 'font-weight', 'bold' );
                blankrow = mv_dt.row.add(create_row(7, '', cols)).draw().node();
                $( blankrow ).css( 'background-color', 'rgb(245, 245, 245)' );
                var headerrow = mv_dt.row.add(create_row(8, 'Hydrographic Information', cols)).draw().node();
                $( headerrow ).css( 'color', 'rgb(100, 100, 100)' ).css( 'font-weight', 'bold' );
                blankrow = mv_dt.row.add(create_row(12, '', cols)).draw().node();
                $( blankrow ).css( 'background-color', 'rgb(245, 245, 245)' );
                blankrow = mv_dt.row.add(create_row(16, '', cols)).draw().node();
                $( blankrow ).css( 'background-color', 'rgb(245, 245, 245)' );
                blankrow = mv_dt.row.add(create_row(20, '', cols)).draw().node();
                $( blankrow ).css( 'background-color', 'rgb(245, 245, 245)' );
                blankrow = mv_dt.row.add(create_row(23, '', cols)).draw().node();
                $( blankrow ).css( 'background-color', 'rgb(245, 245, 245)' );
                headerrow = mv_dt.row.add(create_row(24, 'Landcover', cols)).draw().node();
                $( headerrow ).css( 'color', 'rgb(100, 100, 100)' ).css( 'font-weight', 'bold' );
                blankrow = mv_dt.row.add(create_row(27, '', cols)).draw().node();
                $( blankrow ).css( 'background-color', 'rgb(245, 245, 245)' );
                blankrow = mv_dt.row.add(create_row(30, '', cols)).draw().node();
                $( blankrow ).css( 'background-color', 'rgb(245, 245, 245)' );
               mv_dt.draw();
           
               $("th:contains('ModellingMapUnit')").html("Map Unit");
			   debugger;
               $("th:contains('Variable')").parent().hide()
        });
        function create_row(roworder, varname, cols) {
            var data = [];
            data.push(roworder);
            data.push(varname);
            for (i = 0; i < cols-2; i++) {
                data.push('');
            }
            return data;
        };

    </script>

</head>
<body>
<!--     <header>
	    {{usgs_logo}}
        <h1 id="mainTitle">Species Habitat Model Report</h1>
        <div id="sppnames">
            <b>Common Name: </b>{{common_name}}
			<br />
            <b>Scientific Name: </b><i>{{sci_name}}</i>

        </div>
    </header>
<hr>    
 --><main>
	<div id="headerinfo">
		<span>{{usgs_logo}}</span>
		<span><h1 id="mainTitle">Species Habitat Model Report</h1></span>
		<span>	<div id="sppnames">
					<b>Common Name: </b>{{common_name}}
					<br />
					<b>Scientific Name: </b><i>{{sci_name}}</i>
				</div> </span>
<hr>		
    <div id="sppinfo">
        <span><b>Gap Code: </b> {{spp}}</span>
        <span><b>ITIS TSN: </b> {{itis}}</span>
        <span><b>Version: </b> CONUS_2001v1</span>
        <span><b>ScienceBase Data Link: </b> {{SBpath}}</span>
<!--        <span style="width:50%"><b>Federal Status: </b>{{federal_status}}</span>
        <span style="width:50%"><b>SGCN States: </b>{{sgcn_states}}</span> -->
    </div>
    <div style="clear:both;">
        <h2>Map of Predicted Habitat</h2>
        <div id="mapDiv">{{map_file}}
        </div>		
    </div>
    <div class="pagebreak">
        <h2 >Habitat Modeling: Ancillary Parameters</h2>
        {{ modelling_variables_pvtable }}
      <div>
        <span class="regioncodes">GP = Great Plains;    NE = Northeast;    NW = Northwest;    SE = Southeast;    SW = Southwest;    UM = Upper Midwest</span>
        <span class="downloadhint"><a href = "https://gapanalysis.usgs.gov/species/data/download/" title="Link to GAP data download page">More Info</a> regarding modeling methods and variables.</span>
      </div>
    </div>
    <div class="pagebreak">
        <h2 >Hapitat Modeling: Map Units</h2>
            {{ modelling_mapunits_pvtable }}
    <div>
        <span class="regioncodes">GP = Great Plains;    NE = Northeast;    NW = Northwest;    SE = Southeast;    SW = Southwest;    UM = Upper Midwest</span>
        <span class="downloadhint"><a href = "https://gapanalysis.usgs.gov/species/data/download/" title="Link to GAP data download page">More Info</a> regarding modeling methods and variables.</span>
    </div>
    </div>
    <div class="pagebreak">
        <h2>Citations</h2>
            {{ citations_table }}
    </div>
	</main>
</body>
</html>